\section{Results}
\label{sec:results}


Figure [ADD FIGURE NUMBER] is a violin plot which shows the performance of our algorithms
on [ADD DATASET] under [ADD DISTANCE FUNCTION] distance, using [ADD NUMBER OF SHARDS] shards.
As indicated in the title, the dataset has cardinality [ADD cardinality] and dimensionality [ADD DIMENSIONALITY].
On the horizontal axis, we have each of the $k$-NN algorithms described in Section 2.4, as well as  
an additional "algorithm" which we call "Oracle $\rho$-NN" [REPLACE WITH ACTUAL NAME].  With "Oracle $\rho$-NN", we perform $\rho$-NN search using the 
distance to the $k$-th nearest neighbor as the radius. Of course, as it is impossible to
to know the distance to the $k$-th nearest neighbor \emph{a priori}, this algorithm 
is useful only for benchmarking purposes.

The vertical axis for Figure [ADD FIGURE NUMBER] is the time query in seconds on a logarithmic scale. 
As shown in the key, different colors represent different values of $k$. 
The plot shows the distribution of query times for each algorithm for each value of $k$. 
Because of the logarithmic scale of the vertical axis, it is unsurprising that we 
see longer lower tails than upper tails for many of these algorithms. 

Specs of Ark, and maybe M1 MacBook Air and Dell XPS.

Ark: a 28-core Intel Xeon E5-2690 v4 2.60GHz, 512GB RAM and CentOS 7 Linux with kernel 5.15.50-1-MANJARO \#1 SMP PREEMPT. Rust 1.62, Python 3.10.5

Macbook Air: 8-core (4 performance, 4 efficiency) Apple M1 processor with 16GB RAM, macOS 12.1. Rust 1.62, Python 3.9.4

https://github.com/URI-ABD/clam

For each pair $(X, f)$ and a small selection of depths, measure:
\begin{enumerate}[1.]
    \item linear search vs accelerated search:
    \begin{enumerate}[i.]
        \item runtime performance,
        \item speedup factor, and
        \item number of distance comparisons.
    \end{enumerate}
\end{enumerate}


("deep-image", "cosine"),       // 0
("fashion-mnist", "euclidean"), // 1
("gist", "euclidean"),          // 2
("glove-25", "cosine"),         // 3
("glove-50", "cosine"),         // 4
("glove-100", "cosine"),        // 5
("glove-200", "cosine"),        // 6
("kosarak", "jaccard"),         // 7
("mnist", "euclidean"),         // 8
("nytimes", "cosine"),          // 9
("sift", "euclidean"),          // 10
("lastfm", "cosine"),           // 11

\begin{table*}[!t]
    % \renewcommand{\arraystretch}{1.15}
    \caption{Performance (ROC AUC) of CHAODA vs. other methods on the 18 test datasets.}
    \label{table:results:test-performance}
    \vskip 0.15in
    \begin{center}
    \begin{small}
    \begin{sc}
    \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|c|}
    \hline
    \textbf{Dataset} & \textbf{Dist.}  &\textbf{Card.}  & \textbf{Dim.}  & \textbf{k}  & \multicolumn{2}{r}\textbf{faiss-ivf} & \multicolumn{2}{r}\textbf{bruteforce-blas} & \multicolumn{2}{r}\textbf{hnsw(faiss)} & \multicolumn{2}{r}\textbf{CAKES} \\
    &                &                  &                   &               &             Recall & QPS                           & Recall & QPS                           & Recall & QPS                                           & Recall & QPS \\
    \hline
    nytimes          & cos              & 290,000            & 256             & 10         & 0.69 &  1413.35                       & 0.99 & 26.66                            & 0.97 & 92.92                                         & 1.00 & 42 \\
    \hline
    nytimes          & cos              & 290,000            & 256             & 100        & 0.61 &  0.71                          & 0.99 & 10.71                              & 0.00 & 0.00                                          & 1.00 & 42 \\
    \hline
    fashion-mnist    & euc              & 60,000	         & 784            & 10         & 0.54 & 324.79                           & 1.00 & 52.91                                  & 0.94 & 60.89                                                    & 1.00 & 42 \\
    \hline
    fashion-mnist    & euc              & 60,000             & 784            & 100        & 1.00 & 111.47                           & 0.99 & 16.02                                  & 0.99 & 277.80                                                    & 1.00 & 42 \\
    \hline 
    gist             & euc              & 1,000,000          & 960             & 10         & 1.00 & 3.55                           & 1.00 & 2.63                                     & 0.95 & 149.58                                                   & 1.00 & 42 \\
    \hline
    gist             & euc              & 1,000,000          & 960             & 100        & 1.00 & 2.70                           & 0.99 & 0.80                                 & 0.99 & 59.71                                                    & 1.00 & 42 \\
    \hline
    glove-25         & cos              & 1,183,514          & 25             & 10         & 1.00 & 78.78                          & 1.00 & 33.52                              & 1.00 & 552.67                                                  & 1.00 & 42 \\
    \hline
    glove-25         & cos              & 1,183,514          & 25             & 100        & -- & --                                & -- & --                                & -- & --                                                    & 1.00 & 42 \\
    \hline
    glove-100        & cos              & 1,183,514          & 100            & 10         & 1.00 & 21.16                          & 1.00 & 16.52                                & 0.99 & 155.90                                                  & 1.00 & 42 \\
    \hline
    glove-100        & cos              & 1,183,514          & 100            & 100        & 0.99 &  7.52                          & 0.99 & 3.11                                  & 0.99 & 92.58                                                    & 1.00 & 42 \\
    \hline
    sift             & euc              & 1,000,000          & 128            & 10         & 1.00 &  24.52                          & 1.00 & 16.40                               & 1.00 & 275.07                                                    & 1.00 & 42 \\
    \hline
    sift             & euc              & 1,000,000          & 128            & 100        & 1.00 &  23.50                          & 1.00 & 6.51                                  & 0.99 & 179.14                                                    & 1.00 & 42 \\
    \hline
    deep-image       & cos              & 9,990,000	         & 96             & 10          & 0.00 & 0.00                           & 0.00 & 0.00                                 & 0.00 & 0.00                                                     & 1.00 & 42 \\
    \hline
    deep-image       & cos              & 9,990,000	         & 96             & 100         & 0.00 & 0.00                           & 0.00 & 0.00                                & 0.00 & 0.00                                                    & 1.00 & 42 \\
    \hline
    mnist            & euc              & 60,000             & 784             & 10          & 0.00 & 0.00                          & 0.00 & 0.00                                 & 0.00 & 0.00                                                    & 1.00 & 42 \\
    \hline
    mnist            & euc              & 60,000             & 784             & 100         & 0.00 & 0.00                          & 0.00 & 0.00                                  & 0.00 & 0.00                                                    & 1.00 & 42 \\
    \hline
    glove-50         & cos              & 1,183,514          & 50             & 10          & 0.00 & 0.00                           & 0.00 & 0.00                              & 0.00 & 0.00                                                    & 1.00 & 42 \\
    \hline
    glove-50         & cos              & 1,183,514          & 50             & 100         & 0.00 & 0.00                           & 0.00 & 0.00                              & 0.00 & 0.00                                                    & 1.00 & 42 \\
    \hline
    lastfm           & cos              & 292,385            & 65             & 10          & 0.00 & 0.00                           & 0.00 & 0.00                               & 0.00 & 0.00                                                    & 1.00 & 42 \\
    \hline
    lastfm           & cos              & 292,385            & 65             & 100         & 0.00 & 0.00                           & 0.00 & 0.00                             & 0.00 & 0.00                                                    & 1.00 & 42 \\
    \hline
    \end{tabular}
    \end{sc}
    \end{small}
    \end{center}
    \vskip -0.1in
    \end{table*}
    